<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>スコープほか</title>
</head>

<body>
    <script>
        //verは、関数スコープ
        //let、constは、ブロックスコープ
        //関数スコープ
        //関数の定義
        function sample() {
            const x = 10;
            console.log(x); // 10
        }

        //関数の呼び出し(関数の実行)
        sample(); //10
        //console.log(x); //エラー:　x関数の中でしか使えない

        //ブロックスコープ(ローカルスコープ)
        if (true) {
            const x = 10;
            console.log(x); //10
        }
        //console.log(x); //エラー: xは関数の中でしか使えない

        //グローバルスコープ
        const z = 1;
        //関数定義
        function doSomething() {
            console.log(z); //1
        }
        if (true) {
            console.log(z); //1
        }
        //関数呼び出し(関数の実行)
        doSomething(); //1

        //スコープの　優先順位
        const a = 1; //グローバルスコープ
        function doSomething1() {
            const a = 2; //関数スコープ
            console.log(+ '関数スコープのs'); //関数スコープからaを参照
            if (true) {
                const a = 3; //ブロックスコープ
                console.log(a); //ブロックスコープからaを参照
            }
            console.log(a);
        }
        doSomething1();
        function doSomething2() {
            const b = 1; //関数スコープ
            //const b = 2; //使うことができない。
        }
        doSomething2();

        const person = {
            name: 'アリス',
            age: 20,
            interest: ['読書', '料理'],
            greet: function () {
                console.log('こんにちは');
                //windowオブジェクト + 組み込み関数
            }
        };

        //関数を呼び出す(実行)
        person.greet(); //こんにちは
        //何かの値に()がついていたら、それは関数の呼び出し(実行)
        //関数が宣言されているか？もしくはJavaScriptの組み込まれている関数か？

        console.log(person.name); //アリス

        //メソッドのthis
        const person2 = {
            name: 'Alice',
            greet: function () {
                //オブジェクト内部で使う場合は、thisを使う
                console.log(`こんにちは、私は${this.name}です。`);
                //テンプレートリテラル(変数名)
            }
        };

        //オブジェクトの値を上書きする
        person2.name = 'Bob'; //Bobを代入

        // メソッドの呼び出し
        person2.greet(); // こんにちは、私はBobです。

        console.log(person2.name); // Bob

        const interests = ['読書', '料理', 'キャンプ'];
        const count = interests.length;
        console.log(count); //3

        interests.push('散歩'); //配列に要素を追加
        console.log(interests); //['読書', '料理', 'キャンプ', '散歩']
        console.log(interests[3]); //散歩

        //配列の最後尾から要素を取り出す
        const alphabet = ['a', 'b', 'c'];
        const last = alphabet.pop();
        console.log(last); //c
        console.log(alphabet); //['a', 'b']
        //popは、配列の最後尾から要素を取り出すと、同時に配列の要素数も減る

        //特定の要素が配列に含まれるか？
        const fruits = ['りんご', 'みかん', 'バナナ'];
        const check1 = fruits.includes('バナナ');
        console.log(check1); //true
        const check2 = fruits.includes('ぶどう');
        console.log(check2); //false

        //配列要素の結合と文字列の分割
        const join = interests.join('と');
        console.log(join); //読書と料理とキャンプと散歩

        //文字列の分割(文字列から配列の生成)
        const string = '読書＆料理＆キャンプ';
        const split = string.split('＆');
        console.log(split); //['読書', '料理', 'キャンプ']
    </script>

</body>

</html>